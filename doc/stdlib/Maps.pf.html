
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="stdlib.css">
</head>
<body>
    <pre><code>
<span style="color: #d85311">import</span> <a href="Set.pf.html"><span style="color: #0f95af">Set</span></a>
<span style="color: #d85311">import</span> <a href="Option.pf.html"><span style="color: #0f95af">Option</span></a>

<span style="color: #d85311">define</span> <span style="color: #d85311">operator</span> <span style="color: #2e2d31">&#x2218;</span> <span style="color: #2e2d31">=</span> <span style="color: #d85311">generic</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">U</span><span style="color: #2e2d31">,</span><span style="color: black">V</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">&#x03BB;</span> <span style="color: black">g</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">U</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">V</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">U</span> <span style="color: #2e2d31">{</span>
                        <span style="color: #2e2d31">&#x03BB;</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span> <span style="color: #2e2d31">{</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">}</span> <span style="color: #2e2d31">}</span> <span style="color: #2e2d31">}</span>

<span style="color: #d85311">define</span> <span style="color: black">update</span> <span style="color: #2e2d31">=</span> <span style="color: #d85311">generic</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">{</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span> <span style="color: #2e2d31">{</span>
                   <span style="color: #d85311">if</span> <span style="color: black">y</span> <span style="color: #2e2d31">=</span> <span style="color: black">x</span> <span style="color: #d85311">then</span> <span style="color: black">v</span> <span style="color: #d85311">else</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">}</span> <span style="color: #2e2d31">}</span> <span style="color: #2e2d31">}</span>

<span style="color: #d85311">theorem</span> <a href="Maps.pf.html#update_eq157"><span id="update_eq157" style="color: #086c3c">update_eq</span></a> <span style="color: #2e2d31">:</span>
  <span style="color: #2e2d31">&lt;</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span> <span style="color: #2e2d31">&gt;</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">.</span>
  <span style="color: black">update</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">v</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">:</span><span style="color: black">U</span>
  <span style="color: #d85311">definition</span> <span style="color: black">update</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Maps.pf.html#update_not_eq158"><span id="update_not_eq158" style="color: #086c3c">update_not_eq</span></a> <span style="color: #2e2d31">:</span>
  <span style="color: #2e2d31">&lt;</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span> <span style="color: #2e2d31">&gt;</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: #d85311">not</span> <span style="color: #2e2d31">(</span><span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <span style="color: black">update</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">not_eq</span>
  <span style="color: #d85311">switch</span> <span style="color: black">y</span> <span style="color: #2e2d31">=</span> <span style="color: black">x</span> <span style="color: #d85311">for</span> <span style="color: black">update</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: #9329ab">true</span> <span style="color: #d85311">suppose</span> <span style="color: black">yx_true</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">have</span> <span style="color: black">yx</span><span style="color: #2e2d31">:</span> <span style="color: black">y</span> <span style="color: #2e2d31">=</span> <span style="color: black">x</span> <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">yx_true</span>
      <span style="color: #d85311">have</span> <span style="color: black">xy</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span> <span style="color: #d85311">by</span> <span style="color: #d85311">symmetric</span> <span style="color: black">yx</span>
      <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <span style="color: black">not_eq</span> <span style="color: #d85311">to</span> <span style="color: black">xy</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: #9329ab">false</span> <span style="color: #2e2d31">{</span>
      <span style="color: #2e2d31">.</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Maps.pf.html#update_shadow159"><span id="update_shadow159" style="color: #086c3c">update_shadow</span></a> <span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">w</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">.</span>
  <span style="color: black">update</span><span style="color: #2e2d31">(</span><span style="color: black">update</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">w</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">update</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">w</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">w</span><span style="color: #2e2d31">:</span><span style="color: black">U</span>
  <span style="color: #d85311">extensionality</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">switch</span> <span style="color: black">y</span> <span style="color: #2e2d31">=</span> <span style="color: black">x</span> <span style="color: #d85311">for</span> <span style="color: black">update</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: #9329ab">true</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">.</span> <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: #9329ab">false</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">.</span> <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Maps.pf.html#update_permute160"><span id="update_permute160" style="color: #086c3c">update_permute</span></a> <span style="color: #2e2d31">:</span>
  <span style="color: #2e2d31">&lt;</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span> <span style="color: #2e2d31">&gt;</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">w</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: #d85311">not</span> <span style="color: #2e2d31">(</span><span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <span style="color: black">update</span><span style="color: #2e2d31">(</span><span style="color: black">update</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">,</span> <span style="color: black">w</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">update</span><span style="color: #2e2d31">(</span><span style="color: black">update</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">,</span> <span style="color: black">w</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">v</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">w</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">x_neq_y</span>
  <span style="color: #d85311">extensionality</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">z</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">switch</span> <span style="color: black">z</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span> <span style="color: #d85311">for</span> <span style="color: black">update</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: #9329ab">true</span> <span style="color: #d85311">suppose</span> <span style="color: black">zy_true</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">have</span> <span style="color: black">zy</span><span style="color: #2e2d31">:</span> <span style="color: black">z</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span> <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">zy_true</span>
      <span style="color: #d85311">switch</span> <span style="color: black">z</span> <span style="color: #2e2d31">=</span> <span style="color: black">x</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">case</span> <span style="color: #9329ab">true</span> <span style="color: #d85311">suppose</span> <span style="color: black">zx_true</span> <span style="color: #2e2d31">{</span>
	  <span style="color: #d85311">have</span> <span style="color: black">zx</span><span style="color: #2e2d31">:</span> <span style="color: black">z</span> <span style="color: #2e2d31">=</span> <span style="color: black">x</span> <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">zx_true</span>
	  <span style="color: #d85311">have</span> <span style="color: black">xy</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span> <span style="color: #d85311">by</span> <span style="color: #d85311">transitive</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">symmetric</span> <span style="color: black">zx</span><span style="color: #2e2d31">)</span> <span style="color: black">zy</span>
	  <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <span style="color: black">x_neq_y</span> <span style="color: #d85311">to</span> <span style="color: black">xy</span>
	<span style="color: #2e2d31">}</span>
	<span style="color: #d85311">case</span> <span style="color: #9329ab">false</span> <span style="color: #2e2d31">{</span>
	  <span style="color: #2e2d31">.</span>
	<span style="color: #2e2d31">}</span>
      <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: #9329ab">false</span> <span style="color: #2e2d31">{</span>
      <span style="color: #2e2d31">.</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: gray">/* Partial Maps */</span>

<span style="color: #d85311">define</span> <span style="color: black">empty_map</span> <span style="color: #2e2d31">=</span> <span style="color: #d85311">generic</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">k</span><span style="color: #2e2d31">:</span><span style="color: black">T</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">@</span><span style="color: black">none</span><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">}</span> <span style="color: #2e2d31">}</span>

<span style="color: #d85311">define</span> <span style="color: black">domain</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span>  <span style="color: #2e2d31">(</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
              <span style="color: #2e2d31">=</span> <span style="color: #d85311">generic</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">f</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span><span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">{</span>
                  <span style="color: #d85311">switch</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
	            <span style="color: #d85311">case</span> <span style="color: black">none</span> <span style="color: #2e2d31">{</span> <span style="color: #9329ab">false</span> <span style="color: #2e2d31">}</span>
		    <span style="color: #d85311">case</span> <span style="color: black">just</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span> <span style="color: #9329ab">true</span> <span style="color: #2e2d31">}</span>
		<span style="color: #2e2d31">}</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">}</span>

<span style="color: #d85311">define</span> <span style="color: black">restrict</span> <span style="color: #2e2d31">=</span> <span style="color: #d85311">generic</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span> <span style="color: #2e2d31">{</span>
                      <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">P</span> <span style="color: #d85311">then</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">else</span> <span style="color: #2e2d31">@</span><span style="color: black">none</span><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">}</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">}</span>

<span style="color: #d85311">define</span> <span style="color: black">combine</span> <span style="color: #2e2d31">=</span> <span style="color: #d85311">generic</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span> <span style="color: #2e2d31">{</span> <span style="color: #d85311">fun</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span> <span style="color: #d85311">fun</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span> <span style="color: #2e2d31">{</span>
                     <span style="color: #d85311">if</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span> <span style="color: #d85311">then</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">else</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">}</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">}</span>

<span style="color: #d85311">theorem</span> <a href="Maps.pf.html#combine_left161"><span id="combine_left161" style="color: #086c3c">combine_left</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span>
  <span style="color: #d85311">then</span> <span style="color: black">combine</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">assume</span><span style="color: #2e2d31">:</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span>
  <span style="color: #d85311">switch</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: black">none</span> <span style="color: #d85311">assume</span><span style="color: #2e2d31">:</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">conclude</span> <span style="color: black">combine</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
          <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: black">combine</span> <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">recall</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">|</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">recall</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span><span style="color: #2e2d31">)</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: black">just</span><span style="color: #2e2d31">(</span><span style="color: black">v</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">assume</span><span style="color: #2e2d31">:</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">just</span><span style="color: #2e2d31">(</span><span style="color: black">v</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">conclude</span> <span style="color: black">combine</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
          <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: black">combine</span> <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">recall</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">just</span><span style="color: #2e2d31">(</span><span style="color: black">v</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Maps.pf.html#combine_right162"><span id="combine_right162" style="color: #086c3c">combine_right</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span>
  <span style="color: #d85311">then</span> <span style="color: black">combine</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">assume</span><span style="color: #2e2d31">:</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span>
  <span style="color: #d85311">conclude</span> <span style="color: black">combine</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
      <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: black">combine</span> <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <span style="color: #d85311">recall</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Maps.pf.html#restrict_domain163"><span id="restrict_domain163" style="color: #086c3c">restrict_domain</span></a><span style="color: #2e2d31">:</span>
  <span style="color: #2e2d31">&lt;</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span> <span style="color: #2e2d31">&gt;</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: black">domain</span><span style="color: #2e2d31">(</span><span style="color: black">restrict</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x2286;</span> <span style="color: black">P</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">suffices</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x'</span><span style="color: #2e2d31">{</span><span style="color: #d85311">switch</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">x'</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">P</span> <span style="color: #d85311">then</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x'</span><span style="color: #2e2d31">)</span>
                                                 <span style="color: #d85311">else</span> <span style="color: #2e2d31">@</span><span style="color: black">none</span><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span>
            <span style="color: #2e2d31">{</span> <span style="color: #d85311">case</span> <span style="color: black">none</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">false</span><span style="color: #2e2d31">}</span> <span style="color: #d85311">case</span> <span style="color: black">just</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">true</span><span style="color: #2e2d31">}</span> <span style="color: #2e2d31">}</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
      <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><span style="color: black">restrict</span><span style="color: #2e2d31">,</span> <span style="color: black">domain</span><span style="color: #2e2d31">,</span> <a href="Set.pf.html#operator170"><span style="color: #086c3c">operator </span></a><span style="color: #2e2d31">}</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">prem</span>
  <span style="color: #d85311">switch</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">P</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: #9329ab">true</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">.</span> <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">suppose</span> <span style="color: black">Px_false</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">by</span>
        <span style="color: #d85311">rewrite</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">definition</span> <a href="Set.pf.html#operator169"><span style="color: #086c3c">operator</span></a> <span style="color: #d85311">in</span> <span style="color: black">Px_false</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">in</span>
        <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator169"><span style="color: #086c3c">operator</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span> <span style="color: black">prem</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

    </code></pre>
</body>
</html>